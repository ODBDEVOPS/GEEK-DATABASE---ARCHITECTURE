<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geek AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/themes/AI_Style01.css">
    <link rel="stylesheet" href="styles/base/Neon.css">

      
</head>

<body>
<!-- Effets de fond -->
    <div class="bg-effects">
        <div class="particles"></div>
        <div class="grid-pattern"></div>
    </div>
    
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="logo">
            <i class="fa-solid fa-layer-group"></i>
            <h1>Geek </h1>
            <span class="logo-text">DB</span>
            
        </div>
        
        <div class="nav-menu">
            <div class="nav-item active" data-section="dashboard">
                <i class="fas fa-home"></i>
                <span>Tableau de bord</span>
            </div>

            <div class="nav-item " data-section="dbCineGrokdashboard">
                <div class="c-logo">
                    <div class="c-logo-icon">üåÄ</div>
                    <i class="fas fa-home"></i>
                    <span>dbCineGrok</span>
                </div>
            </div>

            <div class="nav-item " data-section="dbCineGrok">
                <i class="fas fa-home"></i>
                <span>dbCineGrok</span>
            </div>
            <div class="nav-item" data-section="projects">
                <i class="fas fa-folder"></i>
                <span>Gestion des projets</span>
            </div>
            <div class="nav-item" data-section="tracks">
                <i class="fas fa-wave-square"></i>
                <span>Tracks view</span>
            </div>
            <div class="nav-item" data-section="style-editor">
                <i class="fas fa-palette"></i>
                <span>Suno style editor</span>
            </div>
            <div class="nav-item" data-section="album-maker">
                <i class="fas fa-compact-disc"></i>
                <span>Suno album maker</span>
            </div>
            <div class="nav-item" data-section="grok-maker">
                <i class="fas fa-video"></i>
                <span>Grok clip maker</span>
            </div>
        </div>
        
        <div class="mt-3" style="padding: 0 1.5rem;">
            <div class="card" style="background-color: rgba(255,255,255,0.1); border: none; color: white;">
                <div class="card-footer">
                    <span>Projets actifs</span>
                    <span class="badge badge-primary">5</span>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main class="main-content">

        <!-- Header -->
        <header class="header">
           <div class="c-header-content">
            <div class="c-logo">
                <div class="c-logo-icon">üåÄ</div>
                <h1 id="page-title" class="c-logo-text">Tableau de bord</h1>
            </div>
            <nav class="c-nav">
                <button class="c-nav-btn active" data-page="styles">
                    <i class="fas fa-music"></i> Styles
                </button>
                <button class="c-nav-btn" data-page="albums">
                    <i class="fas fa-compact-disc"></i> Albums
                </button>
                <button class="c-nav-btn" data-page="export">
                    <i class="fas fa-share-alt"></i> Export
                </button>
            </nav>
        </div>
            <div class="user-info">
                <div class="user-avatar">JP</div>
                <div>
                    <div style="font-weight: 600;">Jean Prompter</div>
                    <div class="text-muted" style="font-size: 0.9rem;">Expert en prompts IA</div>
                </div>
            </div>
        </header>

        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            
            <div class="dashboard-cards">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Projets</div>
                        <div class="card-icon projects">
                            <i class="fas fa-folder"></i>
                        </div>
                    </div>
                    <div class="card-value">12</div>
                    <div class="card-footer">
                        <span>5 actifs</span>
                        <span>+2 ce mois</span>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Tracks g√©n√©r√©es</div>
                        <div class="card-icon tracks">
                            <i class="fas fa-music"></i>
                        </div>
                    </div>
                    <div class="card-value">48</div>
                    <div class="card-footer">
                        <span>24 ce mois</span>
                        <span class="badge badge-success">+120%</span>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Albums cr√©√©s</div>
                        <div class="card-icon albums">
                            <i class="fas fa-compact-disc"></i>
                        </div>
                    </div>
                    <div class="card-value">8</div>
                    <div class="card-footer">
                        <span>16 tracks/album</span>
                        <span class="badge badge-warning">En attente: 2</span>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Clips Grok</div>
                        <div class="card-icon clips">
                            <i class="fas fa-video"></i>
                        </div>
                    </div>
                    <div class="card-value">15</div>
                    <div class="card-footer">
                        <span>3 en production</span>
                        <span>+5 cette semaine</span>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">Projets r√©cents</div>
                    <button class="btn btn-primary" id="new-project-btn">
                        <i class="fas fa-plus"></i> Nouveau projet
                    </button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Nom du projet</th>
                            <th>Type</th>
                            <th>Date de cr√©ation</th>
                            <th>Statut</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="projects-table-body">
                        <!-- Projects will be loaded here dynamically -->
                    </tbody>
                </table>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-title">Activit√© r√©cente</div>
                </div>
                <div style="padding: 1.5rem;">
                    <div class="d-flex justify-between align-center mb-3">
                        <div>
                            <div style="font-weight: 600;">Nouvel album "Synthwave Dreams" g√©n√©r√©</div>
                            <div class="text-muted">Il y a 2 heures</div>
                        </div>
                        <span class="badge badge-primary">Suno</span>
                    </div>
                    
                    <div class="d-flex justify-between align-center mb-3">
                        <div>
                            <div style="font-weight: 600;">Clip Grok "Urban Odyssey" en production</div>
                            <div class="text-muted">Il y a 6 heures</div>
                        </div>
                        <span class="badge badge-warning">Grok</span>
                    </div>
                    
                    <div class="d-flex justify-between align-center">
                        <div>
                            <div style="font-weight: 600;">Style "Cyberpunk Fusion" ajout√©</div>
                            <div class="text-muted">Il y a 1 jour</div>
                        </div>
                        <span class="badge badge-success">Style</span>
                    </div>
                </div>
            </div>
        </section>
        <!-- Dashboard Section CineGrok -->
        <section id="dbCineGrok" class="section active">
            <div class="dashboard-cards">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Projets</div>
                        <div class="card-icon projects">
                            <i class="fas fa-folder"></i>
                        </div>
                    </div>
                    <div class="card-value">12</div>
                    <div class="card-footer">
                        <span>5 actifs</span>
                        <span>+2 ce mois</span>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Tracks g√©n√©r√©es</div>
                        <div class="card-icon tracks">
                            <i class="fas fa-music"></i>
                        </div>
                    </div>
                    <div class="card-value">48</div>
                    <div class="card-footer">
                        <span>24 ce mois</span>
                        <span class="badge badge-success">+120%</span>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Albums cr√©√©s</div>
                        <div class="card-icon albums">
                            <i class="fas fa-compact-disc"></i>
                        </div>
                    </div>
                    <div class="card-value">8</div>
                    <div class="card-footer">
                        <span>16 tracks/album</span>
                        <span class="badge badge-warning">En attente: 2</span>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Clips Grok</div>
                        <div class="card-icon clips">
                            <i class="fas fa-video"></i>
                        </div>
                    </div>
                    <div class="card-value">15</div>
                    <div class="card-footer">
                        <span>3 en production</span>
                        <span>+5 cette semaine</span>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">Projets r√©cents</div>
                    <button class="btn btn-primary" id="new-project-btn">
                        <i class="fas fa-plus"></i> Nouveau projet
                    </button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Nom du projet</th>
                            <th>Type</th>
                            <th>Date de cr√©ation</th>
                            <th>Statut</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="projects-table-body">
                        <!-- Projects will be loaded here dynamically -->
                    </tbody>
                </table>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-title">Activit√© r√©cente</div>
                </div>
                <div style="padding: 1.5rem;">
                    <div class="d-flex justify-between align-center mb-3">
                        <div>
                            <div style="font-weight: 600;">Nouvel album "Synthwave Dreams" g√©n√©r√©</div>
                            <div class="text-muted">Il y a 2 heures</div>
                        </div>
                        <span class="badge badge-primary">Suno</span>
                    </div>
                    
                    <div class="d-flex justify-between align-center mb-3">
                        <div>
                            <div style="font-weight: 600;">Clip Grok "Urban Odyssey" en production</div>
                            <div class="text-muted">Il y a 6 heures</div>
                        </div>
                        <span class="badge badge-warning">Grok</span>
                    </div>
                    
                    <div class="d-flex justify-between align-center">
                        <div>
                            <div style="font-weight: 600;">Style "Cyberpunk Fusion" ajout√©</div>
                            <div class="text-muted">Il y a 1 jour</div>
                        </div>
                        <span class="badge badge-success">Style</span>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Projects Management Section -->
        <section id="projects" class="section">
            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">Gestion des projets</div>
                    <button class="btn btn-primary" id="add-project-btn">
                        <i class="fas fa-plus"></i> Ajouter un projet
                    </button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Nom projet</th>
                            <th>Description</th>
                            <th>Albums</th>
                            <th>Clips Grok</th>
                            <th>Date de cr√©ation</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="projects-management-body">
                        <!-- Projects will be loaded here dynamically -->
                    </tbody>
                </table>
            </div>

            <div class="form-container" id="project-form" style="display: none;">
                <h3 class="mb-3">Nouveau projet</h3>
                <div class="form-group">
                    <label class="form-label">Nom du projet</label>
                    <input type="text" class="form-control" id="project-name" placeholder="Ex: Album Synthwave 2024">
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-control" id="project-description" placeholder="Description du projet..."></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Style principal</label>
                        <select class="form-control" id="project-style">
                            <option value="synthwave">Synthwave</option>
                            <option value="lofi">Lo-Fi Hip Hop</option>
                            <option value="rock">Rock √âlectronique</option>
                            <option value="ambient">Ambient</option>
                            <option value="jazz">Jazz Fusion</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Date d'√©ch√©ance</label>
                        <input type="date" class="form-control" id="project-deadline">
                    </div>
                </div>
                <div class="d-flex justify-between">
                    <button class="btn btn-secondary" id="cancel-project-btn">Annuler</button>
                    <button class="btn btn-primary" id="save-project-btn">Cr√©er le projet</button>
                </div>
            </div>
        </section>

        <!-- Tracks View Section -->
        <section id="tracks" class="section">
            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">Tracks Suno</div>
                    <button class="btn btn-primary">
                        <i class="fas fa-sync"></i> Actualiser
                    </button>
                </div>
                <div id="tracks-container">
                    <!-- Tracks will be loaded here dynamically -->
                </div>
            </div>

            <div class="form-container">
                <h3 class="mb-3">Analyse de track</h3>
                <div class="form-group">
                    <label class="form-label">Lien Suno</label>
                    <input type="text" class="form-control" id="track-link" placeholder="Collez le lien de la track Suno ici">
                </div>
                <div class="form-group">
                    <label class="form-label">Notes d'analyse</label>
                    <textarea class="form-control" id="track-analysis" placeholder="D√©tails sur la structure, m√©lodie, harmonie, etc." rows="4"></textarea>
                </div>
                <button class="btn btn-primary" id="analyze-track-btn">
                    <i class="fas fa-chart-bar"></i> Analyser la track
                </button>
            </div>
        </section>

        <!-- Suno Style Editor Section -->
        <section id="style-editor" class="section">
            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">Styles Suno</div>
                    <button class="btn btn-primary" id="add-style-btn">
                        <i class="fas fa-plus"></i> Ajouter un style
                    </button>
                </div>
                <div id="styles-container">
                    <!-- Styles will be loaded here dynamically -->
                </div>
            </div>

            <div class="form-container" id="style-form" style="display: none;">
                <h3 class="mb-3">Nouveau style Suno</h3>
                <div class="form-group">
                    <label class="form-label">Nom du style</label>
                    <input type="text" class="form-control" id="style-name" placeholder="Ex: Cyberpunk Fusion">
                </div>
                <div class="form-group">
                    <label class="form-label">Prompt du style</label>
                    <textarea class="form-control" id="style-prompt" placeholder="D√©crivez le style en d√©tail pour Suno..." rows="6"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Genre musical</label>
                        <select class="form-control" id="style-genre">
                            <option value="electronic">√âlectronique</option>
                            <option value="rock">Rock</option>
                            <option value="hiphop">Hip Hop</option>
                            <option value="jazz">Jazz</option>
                            <option value="ambient">Ambient</option>
                            <option value="classical">Classique</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">√âpoque</label>
                        <select class="form-control" id="style-era">
                            <option value="80s">Ann√©es 80</option>
                            <option value="90s">Ann√©es 90</option>
                            <option value="2000s">Ann√©es 2000</option>
                            <option value="modern">Moderne</option>
                            <option value="futuristic">Futuriste</option>
                        </select>
                    </div>
                </div>
                <div class="d-flex justify-between">
                    <button class="btn btn-secondary" id="cancel-style-btn">Annuler</button>
                    <button class="btn btn-primary" id="save-style-btn">Enregistrer le style</button>
                </div>
            </div>
        </section>

        <!-- Suno Album Maker Section -->
        <section id="album-maker" class="section">
            <div class="album-preview">
                <div class="album-title" id="album-title-preview">Nouvel Album</div>
                <div class="text-muted" style="color: rgba(255,255,255,0.8);" id="album-desc-preview">Description de l'album</div>
                <div class="album-tracks" id="album-tracks-preview">
                    <!-- Tracks preview will be loaded here -->
                </div>
            </div>

            <div class="form-container">
                <h3 class="mb-3">G√©n√©rateur d'album Suno</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Nom de l'album</label>
                        <input type="text" class="form-control" id="album-name" placeholder="Ex: Synthwave Dreams" value="Synthwave Dreams">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nombre de tracks</label>
                        <select class="form-control" id="album-track-count">
                            <option value="4">4 tracks (2 prompts)</option>
                            <option value="6">6 tracks (3 prompts)</option>
                            <option value="8" selected>8 tracks (4 prompts)</option>
                            <option value="10">10 tracks (5 prompts)</option>
                            <option value="12">12 tracks (6 prompts)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Th√®me de l'album</label>
                    <textarea class="form-control" id="album-theme" placeholder="D√©crivez le th√®me, l'ambiance, les influences musicales..." rows="4">Un album synthwave inspir√© des ann√©es 80, avec des influences de films comme Drive et Stranger Things. Ambiance nostalgique mais moderne, avec des m√©lodies entra√Ænantes et des basses puissantes.</textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Style principal</label>
                    <select class="form-control" id="album-style">
                        <option value="synthwave">Synthwave</option>
                        <option value="retrowave">Retrowave</option>
                        <option value="outrun">Outrun</option>
                        <option value="cyberpunk">Cyberpunk</option>
                        <option value="dreamwave">Dreamwave</option>
                    </select>
                </div>
                
                <div class="d-flex justify-between">
                    <button class="btn btn-secondary" id="reset-album-btn">
                        <i class="fas fa-redo"></i> R√©initialiser
                    </button>
                    <button class="btn btn-primary" id="generate-album-btn">
                        <i class="fas fa-magic"></i> G√©n√©rer l'album
                    </button>
                </div>
            </div>

            <div class="card mt-3">
                <div class="card-header">
                    <div class="card-title">Prompts g√©n√©r√©s pour Suno</div>
                </div>
                <div style="padding: 1.5rem;" id="generated-prompts">
                    <!-- Prompts will appear here -->
                </div>
            </div>
        </section>

        <!-- Grok Clip Maker Section -->
        <section id="grok-maker" class="section">
            <div class="prompt-tips">
                <h4><i class="fas fa-lightbulb"></i> Principes d'ing√©nierie de prompt pour Grok</h4>
                <ul>
                    <li><strong>Sp√©cificit√© visuelle :</strong> D√©crire pr√©cis√©ment les plans, angles de cam√©ra, √©clairage</li>
                    <li><strong>Coh√©rence narrative :</strong> Maintenir une histoire ou un th√®me √† travers le clip</li>
                    <li><strong>Rythme et tempo :</strong> Synchroniser les transitions avec la musique</li>
                    <li><strong>Style artistique :</strong> D√©finir un style visuel coh√©rent (ex: cyberpunk, r√©tro, etc.)</li>
                    <li><strong>√âl√©ments dynamiques :</strong> Inclure des mouvements de cam√©ra et des transitions cr√©atives</li>
                </ul>
            </div>

            <div class="form-container">
                <h3 class="mb-3">G√©n√©rateur de clip Grok</h3>
                <div class="form-group">
                    <label class="form-label">Nom du clip</label>
                    <input type="text" class="form-control" id="clip-name" placeholder="Ex: Urban Odyssey">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Track Suno associ√©e</label>
                    <select class="form-control" id="clip-track">
                        <option value="">S√©lectionner une track</option>
                        <option value="midnight_drive">Midnight Drive - Synthwave Dreams</option>
                        <option value="neon_dreams">Neon Dreams - Cyberpunk Fusion</option>
                        <option value="retro_future">Retro Future - Outrun Vibes</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Prompt visuel d√©taill√©</label>
                    <textarea class="form-control" id="clip-prompt" placeholder="D√©crivez en d√©tail la vid√©o √† g√©n√©rer..." rows="6">Un clip vid√©o cyberpunk se d√©roulant dans une ville futuriste de nuit. Sc√®nes de voitures volantes passant entre des gratte-ciels n√©on, plans rapproch√©s sur des personnages aux implants cybern√©tiques, transitions synchronis√©es avec le beat de la musique. √âclairage n√©on dominant (bleu, rose, violet), pluie artificielle refl√©tant les lumi√®res de la ville. Mouvements de cam√©ra dynamiques avec des plans en drone entre les buildings.</textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Dur√©e (secondes)</label>
                        <input type="number" class="form-control" id="clip-duration" value="60" min="10" max="180">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Style visuel</label>
                        <select class="form-control" id="clip-style">
                            <option value="cyberpunk">Cyberpunk</option>
                            <option value="retro">R√©tro 80s</option>
                            <option value="realistic">R√©aliste</option>
                            <option value="anime">Anime</option>
                            <option value="cinematic">Cin√©matographique</option>
                        </select>
                    </div>
                </div>
                
                <div class="d-flex justify-between">
                    <button class="btn btn-secondary" id="test-prompt-btn">
                        <i class="fas fa-vial"></i> Tester le prompt
                    </button>
                    <button class="btn btn-primary" id="generate-clip-btn">
                        <i class="fas fa-film"></i> G√©n√©rer le clip Grok
                    </button>
                </div>
            </div>

            <div class="card mt-3">
                <div class="card-header">
                    <div class="card-title">Prompt optimis√© pour Grok</div>
                    <button class="btn btn-secondary" id="copy-prompt-btn">
                        <i class="fas fa-copy"></i> Copier
                    </button>
                </div>
                <div style="padding: 1.5rem;">
                    <pre id="optimized-prompt" style="background-color: #f9fafb; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; font-family: monospace; font-size: 0.9rem; white-space: pre-wrap;">
                    </pre>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Application data
        const appData = {
            projects: [
                {
                    id: 1,
                    name: "Synthwave Dreams",
                    description: "Album synthwave inspir√© des ann√©es 80",
                    albums: [1, 2],
                    grokClips: [1],
                    type: "Album",
                    created: "2024-03-15",
                    status: "Actif"
                },
                {
                    id: 2,
                    name: "Cyberpunk Fusion",
                    description: "Exp√©rimentation musicale cyberpunk",
                    albums: [3],
                    grokClips: [2, 3],
                    type: "Exp√©rimental",
                    created: "2024-03-10",
                    status: "Actif"
                },
                {
                    id: 3,
                    name: "Urban Odyssey",
                    description: "Projet vid√©o musical urbain",
                    albums: [],
                    grokClips: [4],
                    type: "Vid√©o",
                    created: "2024-03-05",
                    status: "En pause"
                },
                {
                    id: 4,
                    name: "Lofi Study Sessions",
                    description: "Collection lofi pour concentration",
                    albums: [4],
                    grokClips: [],
                    type: "Album",
                    created: "2024-02-28",
                    status: "Termin√©"
                }
            ],
            tracks: [
                {
                    id: 1,
                    name: "Midnight Drive",
                    project: "Synthwave Dreams",
                    style: "Synthwave",
                    sunoLink: "https://suno.com/track/abc123",
                    analysis: "M√©lodie entra√Ænante avec basse pulsante. Structure ABA avec pont synth√©tiseur √† 1:45.",
                    created: "2024-03-16"
                },
                {
                    id: 2,
                    name: "Neon Dreams",
                    project: "Cyberpunk Fusion",
                    style: "Cyberpunk",
                    sunoLink: "https://suno.com/track/def456",
                    analysis: "Rythme complexe avec influences industrial. Texte dystopique.",
                    created: "2024-03-12"
                },
                {
                    id: 3,
                    name: "Retro Future",
                    project: "Synthwave Dreams",
                    style: "Retrowave",
                    sunoLink: "https://suno.com/track/ghi789",
                    analysis: "Ambiance nostalgique avec pads atmosph√©riques. Belle progression harmonique.",
                    created: "2024-03-14"
                }
            ],
            styles: [
                {
                    id: 1,
                    name: "Synthwave",
                    prompt: "Musique √©lectronique inspir√©e des ann√©es 80 avec des synth√©tiseurs analogiques, des gated reverb sur les caisses claires, des lignes de basse pulsantes et des m√©lodies nostalgiques. Tempo mod√©r√© (100-120 BPM). Inclure des √©l√©ments de film de science-fiction des ann√©es 80.",
                    genre: "electronic",
                    era: "80s"
                },
                {
                    id: 2,
                    name: "Cyberpunk Fusion",
                    prompt: "Fusion de musique √©lectronique industrielle, de synthwave et d'√©l√©ments de hip-hop. Rythmes complexes, distorsions contr√¥l√©es, textures futuristes. Th√®mes dystopiques et urbains. Utiliser des sons glitch et des basses lourdes.",
                    genre: "electronic",
                    era: "futuristic"
                },
                {
                    id: 3,
                    name: "Lofi Hip Hop",
                    prompt: "Beats relaxants avec des samples de jazz, du vinyle crackle, des basses douces et des m√©lodies simples. Tempo lent (70-90 BPM). Atmosphere chaleureuse et intime, parfaite pour la concentration ou la d√©tente.",
                    genre: "hiphop",
                    era: "modern"
                }
            ],
            albums: [
                {
                    id: 1,
                    name: "Synthwave Dreams",
                    theme: "Nostalgie des ann√©es 80 avec une touche moderne",
                    tracks: [
                        "Midnight Drive",
                        "Neon Highway",
                        "Digital Love",
                        "Retro Future"
                    ]
                }
            ],
            grokClips: [
                {
                    id: 1,
                    name: "Urban Odyssey",
                    track: "Midnight Drive",
                    prompt: "Clip vid√©o cyberpunk dans une ville futuriste de nuit avec des n√©ons et de la pluie",
                    duration: 60,
                    status: "En production"
                }
            ]
        };

        // DOM Elements
        const navItems = document.querySelectorAll('.nav-item');
        const sections = document.querySelectorAll('.section');
        const pageTitle = document.getElementById('page-title');

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Load initial data
            loadProjectsTable();
            loadProjectsManagement();
            loadTracks();
            loadStyles();
            updateAlbumPreview();
            updateOptimizedPrompt();
            
            // Set up event listeners
            setupEventListeners();
        });

        // Navigation between sections
        navItems.forEach(item => {
            item.addEventListener('click', function() {
                const sectionId = this.getAttribute('data-section');
                
                // Update active nav item
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
                
                // Show corresponding section
                sections.forEach(section => {
                    section.classList.remove('active');
                    if (section.id === sectionId) {
                        section.classList.add('active');
                        
                        // Update page title
                        pageTitle.textContent = this.querySelector('span').textContent;
                    }
                });
            });
        });

        // Load projects into dashboard table
        function loadProjectsTable() {
            const tableBody = document.getElementById('projects-table-body');
            tableBody.innerHTML = '';
            
            appData.projects.forEach(project => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div style="font-weight: 600;">${project.name}</div>
                        <div class="text-muted" style="font-size: 0.9rem;">${project.description}</div>
                    </td>
                    <td>${project.type}</td>
                    <td>${project.created}</td>
                    <td>
                        <span class="badge ${project.status === 'Actif' ? 'badge-success' : project.status === 'En pause' ? 'badge-warning' : 'badge-primary'}">
                            ${project.status}
                        </span>
                    </td>
                    <td>
                        <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.9rem;">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.9rem;">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load projects into management section
        function loadProjectsManagement() {
            const tableBody = document.getElementById('projects-management-body');
            tableBody.innerHTML = '';
            
            appData.projects.forEach(project => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div style="font-weight: 600;">${project.name}</div>
                    </td>
                    <td>${project.description}</td>
                    <td>${project.albums.length}</td>
                    <td>${project.grokClips.length}</td>
                    <td>${project.created}</td>
                    <td>
                        <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.9rem;">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.9rem;">
                            <i class="fas fa-edit"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load tracks into tracks view
        function loadTracks() {
            const container = document.getElementById('tracks-container');
            container.innerHTML = '';
            
            appData.tracks.forEach(track => {
                const trackCard = document.createElement('div');
                trackCard.className = 'track-card';
                trackCard.innerHTML = `
                    <div class="track-info">
                        <h4>${track.name}</h4>
                        <div class="track-meta">
                            <span><i class="fas fa-project-diagram"></i> ${track.project}</span>
                            <span><i class="fas fa-palette"></i> ${track.style}</span>
                            <span><i class="fas fa-calendar"></i> ${track.created}</span>
                        </div>
                        <div class="text-muted" style="margin-top: 0.5rem; font-size: 0.9rem;">
                            <strong>Analyse :</strong> ${track.analysis}
                        </div>
                    </div>
                    <div class="track-actions">
                        <a href="${track.sunoLink}" target="_blank" class="btn btn-primary">
                            <i class="fas fa-external-link-alt"></i> Suno
                        </a>
                        <button class="btn btn-secondary" data-track-id="${track.id}">
                            <i class="fas fa-chart-bar"></i> Analyser
                        </button>
                    </div>
                `;
                container.appendChild(trackCard);
            });
        }

        // Load styles into style editor
        function loadStyles() {
            const container = document.getElementById('styles-container');
            container.innerHTML = '';
            
            appData.styles.forEach(style => {
                const styleCard = document.createElement('div');
                styleCard.className = 'style-card';
                styleCard.innerHTML = `
                    <div class="style-header">
                        <div class="style-name">${style.name}</div>
                        <div>
                            <span class="badge badge-primary">${style.genre}</span>
                            <span class="badge badge-warning">${style.era}</span>
                        </div>
                    </div>
                    <div class="style-prompt">${style.prompt}</div>
                    <div class="d-flex justify-between mt-3">
                        <button class="btn btn-secondary" data-style-id="${style.id}">
                            <i class="fas fa-edit"></i> Modifier
                        </button>
                        <button class="btn btn-secondary" data-style-id="${style.id}">
                            <i class="fas fa-trash"></i> Supprimer
                        </button>
                    </div>
                `;
                container.appendChild(styleCard);
            });
        }

        // Update album preview
        function updateAlbumPreview() {
            const albumName = document.getElementById('album-name').value;
            const albumTheme = document.getElementById('album-theme').value;
            const trackCount = parseInt(document.getElementById('album-track-count').value);
            
            document.getElementById('album-title-preview').textContent = albumName;
            document.getElementById('album-desc-preview').textContent = albumTheme;
            
            // Generate track previews
            const tracksContainer = document.getElementById('album-tracks-preview');
            tracksContainer.innerHTML = '';
            
            const trackNames = [
                "Midnight Drive", "Neon Highway", "Digital Love", "Retro Future",
                "Electric Dreams", "Night City", "Synth Odyssey", "Cyber Romance",
                "Neon Dreams", "Future Memories", "Analog Hearts", "Digital Waves"
            ];
            
            for (let i = 0; i < trackCount; i++) {
                const trackItem = document.createElement('div');
                trackItem.className = 'track-item';
                trackItem.innerHTML = `
                    <div style="font-weight: 600;">${trackNames[i % trackNames.length]}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Track ${i+1}</div>
                `;
                tracksContainer.appendChild(trackItem);
            }
        }

        // Update optimized prompt for Grok
        function updateOptimizedPrompt() {
            const clipName = document.getElementById('clip-name').value || "Urban Odyssey";
            const clipPrompt = document.getElementById('clip-prompt').value;
            const clipStyle = document.getElementById('clip-style').value;
            const clipDuration = document.getElementById('clip-duration').value;
            
            const optimizedPrompt = `Grok AI Video Generation Prompt:
                
Titre: ${clipName}
Dur√©e: ${clipDuration} secondes
Style visuel: ${clipStyle}
Format: Clip musical synchronis√© avec la track audio

Instructions d√©taill√©es:
${clipPrompt}

Param√®tres techniques:
- Ratio d'aspect: 16:9
- R√©solution: 1920x1080
- Cadence: 30 fps
- Style coh√©rent maintenu tout au long de la vid√©o
- Transitions fluides entre les sc√®nes
- Synchronisation audio-visuelle pr√©cise

√âl√©ments de composition:
1. Plans d'√©tablissement pour contexte
2. Plans rapproch√©s pour connexion √©motionnelle
3. Mouvements de cam√©ra dynamiques
4. √âclairage stylis√© coh√©rent avec le th√®me
5. Transitions cr√©atives synchronis√©es avec le beat

Contraintes:
- √âviter les changements brusques de style
- Maintenir la coh√©rence des personnages et d√©cors
- Respecter la dur√©e exacte de ${clipDuration} secondes`;
            
            document.getElementById('optimized-prompt').textContent = optimizedPrompt;
        }

        // Set up event listeners
        function setupEventListeners() {
            // Project management
            document.getElementById('new-project-btn').addEventListener('click', function() {
                document.getElementById('project-form').style.display = 'block';
                document.getElementById('projects').scrollIntoView({ behavior: 'smooth' });
            });
            
            document.getElementById('add-project-btn').addEventListener('click', function() {
                document.getElementById('project-form').style.display = 'block';
            });
            
            document.getElementById('cancel-project-btn').addEventListener('click', function() {
                document.getElementById('project-form').style.display = 'none';
            });
            
            document.getElementById('save-project-btn').addEventListener('click', function() {
                const projectName = document.getElementById('project-name').value;
                const projectDescription = document.getElementById('project-description').value;
                
                if (projectName && projectDescription) {
                    // In a real app, you would save to appData and update the UI
                    alert(`Projet "${projectName}" cr√©√© avec succ√®s !`);
                    document.getElementById('project-form').style.display = 'none';
                    
                    // Reset form
                    document.getElementById('project-name').value = '';
                    document.getElementById('project-description').value = '';
                } else {
                    alert('Veuillez remplir tous les champs obligatoires.');
                }
            });
            
            // Style editor
            document.getElementById('add-style-btn').addEventListener('click', function() {
                document.getElementById('style-form').style.display = 'block';
            });
            
            document.getElementById('cancel-style-btn').addEventListener('click', function() {
                document.getElementById('style-form').style.display = 'none';
            });
            
            document.getElementById('save-style-btn').addEventListener('click', function() {
                const styleName = document.getElementById('style-name').value;
                const stylePrompt = document.getElementById('style-prompt').value;
                
                if (styleName && stylePrompt) {
                    // In a real app, you would save to appData and update the UI
                    alert(`Style "${styleName}" enregistr√© avec succ√®s !`);
                    document.getElementById('style-form').style.display = 'none';
                    
                    // Reset form
                    document.getElementById('style-name').value = '';
                    document.getElementById('style-prompt').value = '';
                } else {
                    alert('Veuillez remplir tous les champs obligatoires.');
                }
            });
            
            // Album maker
            document.getElementById('album-name').addEventListener('input', updateAlbumPreview);
            document.getElementById('album-theme').addEventListener('input', updateAlbumPreview);
            document.getElementById('album-track-count').addEventListener('change', updateAlbumPreview);
            
            document.getElementById('reset-album-btn').addEventListener('click', function() {
                document.getElementById('album-name').value = '';
                document.getElementById('album-theme').value = '';
                document.getElementById('album-track-count').value = '8';
                updateAlbumPreview();
            });
            
            document.getElementById('generate-album-btn').addEventListener('click', function() {
                const albumName = document.getElementById('album-name').value;
                const trackCount = parseInt(document.getElementById('album-track-count').value);
                const promptsCount = trackCount / 2; // Suno generates 2 tracks per prompt
                
                if (!albumName) {
                    alert('Veuillez donner un nom √† votre album.');
                    return;
                }
                
                // Generate prompts for the album
                const promptsContainer = document.getElementById('generated-prompts');
                promptsContainer.innerHTML = '';
                
                for (let i = 0; i < promptsCount; i++) {
                    const promptCard = document.createElement('div');
                    promptCard.className = 'style-card';
                    promptCard.style.marginBottom = '1rem';
                    promptCard.innerHTML = `
                        <div class="style-header">
                            <div class="style-name">Prompt ${i+1} pour Suno</div>
                            <span class="badge badge-primary">G√©n√®re 2 tracks</span>
                        </div>
                        <div class="style-prompt">
                            Cr√©e une paire de tracks ${document.getElementById('album-style').value} pour l'album "${albumName}".
                            Th√®me: ${document.getElementById('album-theme').value}
                            Track ${i*2+1}: Instrumentale avec m√©lodie principale au synth√©tiseur
                            Track ${i*2+2}: Version avec rythme plus complexe et variations th√©matiques
                            Les deux tracks doivent partager des √©l√©ments m√©lodiques communs mais avoir des atmosph√®res distinctes.
                        </div>
                        <div class="d-flex justify-between mt-3">
                            <button class="btn btn-secondary">
                                <i class="fas fa-copy"></i> Copier
                            </button>
                            <button class="btn btn-primary">
                                <i class="fas fa-bolt"></i> G√©n√©rer avec Suno
                            </button>
                        </div>
                    `;
                    promptsContainer.appendChild(promptCard);
                }
                
                alert(`Album "${albumName}" g√©n√©r√© avec ${promptsCount} prompts pour ${trackCount} tracks !`);
            });
            
            // Grok clip maker
            document.getElementById('clip-name').addEventListener('input', updateOptimizedPrompt);
            document.getElementById('clip-prompt').addEventListener('input', updateOptimizedPrompt);
            document.getElementById('clip-style').addEventListener('change', updateOptimizedPrompt);
            document.getElementById('clip-duration').addEventListener('input', updateOptimizedPrompt);
            
            document.getElementById('test-prompt-btn').addEventListener('click', function() {
                alert('Fonctionnalit√© de test de prompt en cours de d√©veloppement. Le prompt a √©t√© optimis√© et est pr√™t pour Grok.');
            });
            
            document.getElementById('generate-clip-btn').addEventListener('click', function() {
                const clipName = document.getElementById('clip-name').value;
                
                if (!clipName) {
                    alert('Veuillez donner un nom √† votre clip.');
                    return;
                }
                
                alert(`Clip "${clipName}" envoy√© √† Grok pour g√©n√©ration !`);
            });
            
            document.getElementById('copy-prompt-btn').addEventListener('click', function() {
                const promptText = document.getElementById('optimized-prompt').textContent;
                navigator.clipboard.writeText(promptText).then(() => {
                    const originalText = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-check"></i> Copi√© !';
                    setTimeout(() => {
                        this.innerHTML = originalText;
                    }, 2000);
                });
            });
            
            // Track analysis
            document.getElementById('analyze-track-btn').addEventListener('click', function() {
                const trackLink = document.getElementById('track-link').value;
                const trackAnalysis = document.getElementById('track-analysis').value;
                
                if (!trackLink) {
                    alert('Veuillez entrer un lien Suno √† analyser.');
                    return;
                }
                
                alert(`Analyse de track enregistr√©e ! L'analyse a √©t√© sauvegard√©e avec le lien: ${trackLink}`);
            });
        }
    </script>
<script>
        // Donn√©es de styles
        const MUSIC_STYLES = [
            "acoustic chicago blues cape verdean", "afro-jazz", "afrobeat", "alternative rock",
            "ambient", "ambient house 16-bit", "arabic reggae", "atmospheric black metal",
            "balkan brass", "bluegrass", "blues rock", "bossa nova", "breakbeat", "cajun",
            "celtic folk", "chamber pop", "chicago house", "chillwave", "classical", "country",
            "dance-pop", "dancehall", "dark ambient", "dark goa trance", "deep house",
            "detroit techno", "disco", "downtempo", "dream pop", "drill", "drone",
            "drum and bass", "dub", "dubstep", "electro", "electronic", "emo", "eurodance",
            "experimental", "folk", "funk", "future bass", "g-funk", "garage rock", "glitch",
            "gospel", "grime", "grunge", "happy hardcore", "hard rock", "hard trance", "hardcore",
            "heavy metal", "hip hop", "house", "hyperpop", "idm", "indie folk", "indie pop",
            "indie rock", "industrial", "instrumental hip hop", "j-pop", "j-rock", "jazz",
            "jazz fusion", "k-pop", "koto gnawa", "korean pacific reggae", "latin pop", "lo-fi",
            "melodic techno", "metalcore", "minimal techno", "motown", "neoclassical",
            "new jack swing", "new orleans grunge", "new wave", "noise rock", "nu disco",
            "nu metal", "orchestral", "phonk", "piano", "pop punk", "portuguese breakbeat",
            "post-hardcore", "post-punk", "post-rock", "power metal", "prog avant-garde jazz",
            "progressive house", "progressive metal", "progressive rock", "psychedelic rock",
            "punk", "r&b", "raga", "reggae", "reggaeton", "reggaetonwave", "rock and roll",
            "salsa", "samba", "saxophone afro house", "sertanejo southern rock", "shoegaze",
            "singer-songwriter", "ska", "smooth jazz", "soul", "soulful bubblegum dance",
            "soundtrack", "southern hip hop", "space rock", "speed metal", "stoner rock",
            "surf rock", "swing", "symphonic disco", "symphonic metal", "synth-pop",
            "synthwave", "techno", "thrash metal", "trap", "trance", "trip hop", "tropical house",
            "uk garage", "vaporwave", "viking metal", "west coast hip hop", "world music",
            "yacht rock"
        ].sort();

        // Mod√®les de donn√©es
        class AlbumStore {
            static KEY = 'sunoPromptAlbums';
            
            static getAlbums() {
                const data = localStorage.getItem(this.KEY);
                return data ? JSON.parse(data) : [];
            }
            
            static saveAlbums(albums) {
                localStorage.setItem(this.KEY, JSON.stringify(albums));
            }
            
            static addAlbum(album) {
                const albums = this.getAlbums();
                albums.push(album);
                this.saveAlbums(albums);
            }
            
            static updateAlbum(albumId, updates) {
                const albums = this.getAlbums();
                const index = albums.findIndex(a => a.id === albumId);
                if (index !== -1) {
                    albums[index] = { ...albums[index], ...updates };
                    this.saveAlbums(albums);
                }
            }
            
            static deleteAlbum(albumId) {
                const albums = this.getAlbums();
                const filtered = albums.filter(a => a.id !== albumId);
                this.saveAlbums(filtered);
            }
            
            static addTrack(albumId, track) {
                const albums = this.getAlbums();
                const album = albums.find(a => a.id === albumId);
                if (album) {
                    album.tracks.push(track);
                    album.updatedAt = new Date().toISOString();
                    this.saveAlbums(albums);
                }
            }
        }

        // Application State
        const state = {
            currentPage: 'styles',
            selectedStyle: '',
            filteredStyles: [...MUSIC_STYLES],
            albums: AlbumStore.getAlbums(),
            currentPrompt: null,
            formData: JSON.parse(localStorage.getItem('lastFormData')) || {
                mood: '',
                tempo: 'medium',
                structure: 'intro-verse-chorus-verse-chorus-bridge-chorus-outro',
                instruments: '',
                extraTags: ''
            }
        };

        // DOM Elements
        const elements = {
            // Pages
            pages: {
                styles: document.getElementById('page-styles'),
                albums: document.getElementById('page-albums'),
                export: document.getElementById('page-export')
            },
            
            // Navigation
            navBtns: document.querySelectorAll('.nav-btn'),
            
            // Styles
            styleSearch: document.getElementById('style-search'),
            stylesList: document.getElementById('styles-list'),
            selectedStyle: document.getElementById('selected-style'),
            
            // Formulaire
            mood: document.getElementById('mood'),
            tempo: document.getElementById('tempo'),
            structure: document.getElementById('structure'),
            instruments: document.getElementById('instruments'),
            extraTags: document.getElementById('extra-tags'),
            generateBtn: document.getElementById('generate-btn'),
            
            // Prompt
            promptPreview: document.getElementById('prompt-preview'),
            promptText: document.getElementById('prompt-text'),
            copyPrompt: document.getElementById('copy-prompt'),
            addToAlbum: document.getElementById('add-to-album'),
            
            // Albums
            albumsGrid: document.getElementById('albums-grid'),
            createAlbumBtn: document.getElementById('create-album-btn'),
            
            // Modal
            albumModal: document.getElementById('album-modal'),
            albumSelect: document.getElementById('album-select'),
            newAlbumFields: document.getElementById('new-album-fields'),
            trackTitle: document.getElementById('track-title'),
            newAlbumName: document.getElementById('new-album-name'),
            newAlbumDesc: document.getElementById('new-album-desc'),
            saveToAlbum: document.getElementById('save-to-album'),
            cancelModal: document.getElementById('cancel-modal'),
            
            // Export
            exportJson: document.getElementById('export-json'),
            exportTxt: document.getElementById('export-txt'),
            shareBtn: document.getElementById('share-btn'),
            
            // Toast
            toast: document.getElementById('toast')
        };

        // Initialisation
        function init() {
            loadStyles();
            setupEventListeners();
            restoreState();
            updateAlbumsDisplay();
            showToast('üöÄ Application pr√™te !', 'success');
        }

        // Chargement des styles
        function loadStyles() {
            elements.stylesList.innerHTML = '';
            state.filteredStyles.forEach(style => {
                const div = document.createElement('div');
                div.className = `style-item ${state.selectedStyle === style ? 'selected' : ''}`;
                div.textContent = style;
                div.onclick = () => selectStyle(style);
                elements.stylesList.appendChild(div);
            });
        }

        // S√©lection d'un style
        function selectStyle(style) {
            state.selectedStyle = style;
            elements.selectedStyle.value = style;
            localStorage.setItem('lastSelectedStyle', style);
            
            // Update UI
            document.querySelectorAll('.style-item').forEach(item => {
                item.classList.toggle('selected', item.textContent === style);
            });
        }

        // Navigation
        function navigateTo(page) {
            state.currentPage = page;
            
            // Update active nav button
            elements.navBtns.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.page === page);
            });
            
            // Show/hide pages
            Object.entries(elements.pages).forEach(([key, element]) => {
                element.style.display = key === page ? 'block' : 'none';
            });
            
            // Animation
            elements.pages[page].style.opacity = '0';
            elements.pages[page].style.transform = 'translateY(20px)';
            setTimeout(() => {
                elements.pages[page].style.transition = 'all 0.6s ease';
                elements.pages[page].style.opacity = '1';
                elements.pages[page].style.transform = 'translateY(0)';
            }, 10);
        }

        // G√©n√©ration du prompt
        function generatePrompt() {
            if (!state.selectedStyle) {
                showToast('üéµ S√©lectionnez un style d\'abord !', 'warning');
                return;
            }

            const promptParts = [
                `A track in the style of "${state.selectedStyle}"`
            ];

            if (elements.mood.value) {
                promptParts.push(`with a ${elements.mood.value} mood`);
            }

            if (elements.tempo.value) {
                promptParts.push(`${elements.tempo.value} tempo`);
            }

            if (elements.instruments.value) {
                promptParts.push(`featuring ${elements.instruments.value}`);
            }

            if (elements.structure.value) {
                promptParts.push(`structured as ${elements.structure.value}`);
            }

            if (elements.extraTags.value) {
                promptParts.push(`with ${elements.extraTags.value}`);
            }

            const prompt = promptParts.join(', ') + '.';
            state.currentPrompt = {
                style: state.selectedStyle,
                prompt: prompt,
                formData: {
                    mood: elements.mood.value,
                    tempo: elements.tempo.value,
                    structure: elements.structure.value,
                    instruments: elements.instruments.value,
                    extraTags: elements.extraTags.value
                }
            };

            // Update UI
            elements.promptText.textContent = prompt;
            elements.promptPreview.style.display = 'block';
            
            // Save form data
            localStorage.setItem('lastFormData', JSON.stringify(state.currentPrompt.formData));
            
            showToast('‚ú® Prompt g√©n√©r√© avec succ√®s !', 'success');
        }

        // Copie du prompt
        function copyPromptToClipboard() {
            if (!state.currentPrompt) return;
            
            navigator.clipboard.writeText(state.currentPrompt.prompt)
                .then(() => showToast('üìã Prompt copi√© !', 'success'))
                .catch(() => showToast('‚ùå Erreur de copie', 'error'));
        }

        // Affichage des albums
        function updateAlbumsDisplay() {
            elements.albumsGrid.innerHTML = '';
            
            if (state.albums.length === 0) {
                elements.albumsGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 4rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">
                            <i class="fas fa-compact-disc"></i>
                        </div>
                        <h3 style="color: var(--text-secondary); margin-bottom: 1rem;">
                            Aucun album cr√©√©
                        </h3>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                            Commencez par g√©n√©rer des prompts et ajoutez-les √† un album
                        </p>
                    </div>
                `;
                return;
            }

            state.albums.forEach(album => {
                const card = document.createElement('div');
                card.className = 'album-card';
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                        <h3 style="margin: 0; flex: 1;">${album.name}</h3>
                        <span style="background: var(--primary-gradient); color: white; padding: 0.25rem 0.5rem; border-radius: 20px; font-size: 0.8rem;">
                            ${album.tracks.length} piste${album.tracks.length !== 1 ? 's' : ''}
                        </span>
                    </div>
                    ${album.description ? `<p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">${album.description}</p>` : ''}
                    <div style="display: flex; justify-content: space-between; color: var(--text-secondary); font-size: 0.8rem; margin-bottom: 1rem;">
                        <span>Cr√©√© le ${new Date(album.createdAt).toLocaleDateString()}</span>
                        <span>Modifi√© le ${new Date(album.updatedAt).toLocaleDateString()}</span>
                    </div>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-secondary" style="flex: 1; padding: 0.5rem;" onclick="editAlbum('${album.id}')">
                            <i class="fas fa-edit"></i> √âditer
                        </button>
                        <button class="btn btn-secondary" style="padding: 0.5rem 1rem;" onclick="deleteAlbum('${album.id}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                elements.albumsGrid.appendChild(card);
            });
        }

        // Cr√©ation d'album
        function createAlbum() {
            const name = prompt('Nom de l\'album :');
            if (!name) return;
            
            const description = prompt('Description (optionnelle) :');
            
            const album = {
                id: 'album_' + Date.now(),
                name: name,
                description: description || '',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString(),
                tracks: []
            };
            
            state.albums.push(album);
            AlbumStore.saveAlbums(state.albums);
            updateAlbumsDisplay();
            showToast('üéµ Album cr√©√© !', 'success');
        }

        // √âdition d'album
        function editAlbum(albumId) {
            showToast('‚úèÔ∏è √âdition d\'album (√† impl√©menter)', 'info');
        }

        // Suppression d'album
        function deleteAlbum(albumId) {
            if (confirm('Supprimer cet album ?')) {
                state.albums = state.albums.filter(a => a.id !== albumId);
                AlbumStore.saveAlbums(state.albums);
                updateAlbumsDisplay();
                showToast('üóëÔ∏è Album supprim√©', 'success');
            }
        }

        // Ouverture du modal album
        function openAlbumModal() {
            if (!state.currentPrompt) {
                showToast('üéµ G√©n√©rez un prompt d\'abord !', 'warning');
                return;
            }

            // Populate album select
            elements.albumSelect.innerHTML = '<option value="">-- Cr√©er un nouvel album --</option>';
            state.albums.forEach(album => {
                const option = document.createElement('option');
                option.value = album.id;
                option.textContent = `${album.name} (${album.tracks.length} pistes)`;
                elements.albumSelect.appendChild(option);
            });

            // Set default track title
            elements.trackTitle.value = `Track - ${state.currentPrompt.style}`;
            
            elements.albumModal.style.display = 'flex';
        }

        // Sauvegarde dans l'album
        function saveToAlbum() {
            const albumId = elements.albumSelect.value;
            const track = {
                id: 'track_' + Date.now(),
                title: elements.trackTitle.value,
                style: state.currentPrompt.style,
                prompt: state.currentPrompt.prompt,
                createdAt: new Date().toISOString()
            };

            if (!albumId) {
                // Create new album
                const album = {
                    id: 'album_' + Date.now(),
                    name: elements.newAlbumName.value || 'Nouvel album',
                    description: elements.newAlbumDesc.value,
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString(),
                    tracks: [track]
                };
                state.albums.push(album);
            } else {
                // Add to existing album
                const album = state.albums.find(a => a.id === albumId);
                if (album) {
                    album.tracks.push(track);
                    album.updatedAt = new Date().toISOString();
                }
            }

            AlbumStore.saveAlbums(state.albums);
            updateAlbumsDisplay();
            elements.albumModal.style.display = 'none';
            showToast('‚úÖ Piste ajout√©e √† l\'album !', 'success');
        }

        // Export JSON
        function exportToJson() {
            const data = {
                albums: state.albums,
                exportedAt: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `suno-prompts-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('üì¶ Export JSON termin√© !', 'success');
        }

        // Export TXT
        function exportToTxt() {
            let text = '=== SUNO PROMPT ALBUM EXPORT ===\n\n';
            
            state.albums.forEach((album, index) => {
                text += `ALBUM ${index + 1}: ${album.name}\n`;
                if (album.description) {
                    text += `Description: ${album.description}\n`;
                }
                text += `\n`;
                
                album.tracks.forEach((track, trackIndex) => {
                    text += `TRACK ${(trackIndex + 1).toString().padStart(2, '0')}: ${track.title}\n`;
                    text += `Style: ${track.style}\n`;
                    text += `Prompt: ${track.prompt}\n`;
                    text += `\n`;
                });
                
                text += '‚îÄ'.repeat(50) + '\n\n';
            });
            
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `suno-prompts-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('üìÑ Export TXT termin√© !', 'success');
        }

        // Partage
        function shareData() {
            if (navigator.share) {
                navigator.share({
                    title: 'Mes prompts Suno',
                    text: 'D√©couvrez mes prompts musicaux g√©n√©r√©s pour Suno AI',
                    url: window.location.href
                }).then(() => showToast('üì§ Partage r√©ussi !', 'success'))
                  .catch(() => showToast('‚ùå Partage annul√©', 'error'));
            } else {
                showToast('üì§ Copiez le lien pour partager', 'info');
            }
        }

        // Toast notifications
        function showToast(message, type = 'info') {
            const colors = {
                success: '#48bb78',
                error: '#f56565',
                warning: '#ed8936',
                info: '#4299e1'
            };
            
            elements.toast.textContent = message;
            elements.toast.style.borderLeftColor = colors[type] || colors.info;
            elements.toast.classList.add('show');
            
            setTimeout(() => {
                elements.toast.classList.remove('show');
            }, 3000);
        }

        // Restauration de l'√©tat
        function restoreState() {
            // Restore last selected style
            const lastStyle = localStorage.getItem('lastSelectedStyle');
            if (lastStyle && MUSIC_STYLES.includes(lastStyle)) {
                selectStyle(lastStyle);
            }

            // Restore form data
            if (state.formData) {
                elements.mood.value = state.formData.mood || '';
                elements.tempo.value = state.formData.tempo || 'medium';
                elements.structure.value = state.formData.structure || 'intro-verse-chorus-verse-chorus-bridge-chorus-outro';
                elements.instruments.value = state.formData.instruments || '';
                elements.extraTags.value = state.formData.extraTags || '';
            }
        }

        // Configuration des event listeners
        function setupEventListeners() {
            // Navigation
            elements.navBtns.forEach(btn => {
                btn.addEventListener('click', () => navigateTo(btn.dataset.page));
            });

            // Search
            elements.styleSearch.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                state.filteredStyles = MUSIC_STYLES.filter(style => 
                    style.toLowerCase().includes(query)
                );
                loadStyles();
            });

            // Form
            elements.generateBtn.addEventListener('click', generatePrompt);
            
            // Prompt actions
            elements.copyPrompt.addEventListener('click', copyPromptToClipboard);
            elements.addToAlbum.addEventListener('click', openAlbumModal);
            
            // Album modal
            elements.albumSelect.addEventListener('change', (e) => {
                elements.newAlbumFields.style.display = e.target.value ? 'none' : 'block';
            });
            
            elements.saveToAlbum.addEventListener('click', saveToAlbum);
            elements.cancelModal.addEventListener('click', () => {
                elements.albumModal.style.display = 'none';
            });
            
            // Albums
            elements.createAlbumBtn.addEventListener('click', createAlbum);
            
            // Export
            elements.exportJson.addEventListener('click', exportToJson);
            elements.exportTxt.addEventListener('click', exportToTxt);
            elements.shareBtn.addEventListener('click', shareData);
            
            // Close modal on overlay click
            elements.albumModal.addEventListener('click', (e) => {
                if (e.target === elements.albumModal) {
                    elements.albumModal.style.display = 'none';
                }
            });
            
            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Ctrl/Cmd + Enter to generate prompt
                if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                    e.preventDefault();
                    generatePrompt();
                }
                
                // Escape to close modal
                if (e.key === 'Escape') {
                    elements.albumModal.style.display = 'none';
                }
                
                // Ctrl/Cmd + K to focus search
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    elements.styleSearch.focus();
                }
            });
        }

        // Initialisation au chargement
        window.addEventListener('DOMContentLoaded', init);

        // Exposer les fonctions globales
        window.editAlbum = editAlbum;
        window.deleteAlbum = deleteAlbum;
    </script> 
    
</body>
</html>
